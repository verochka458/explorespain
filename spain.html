<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stylespain.css">
    <title>About Spain!</title>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Загрузка темы из localStorage
            const nightMode = localStorage.getItem("nightMode") === "true";
            document.body.classList.toggle("night-mode", nightMode);

            // Смена темы
            document.getElementById("theme-toggle").addEventListener("click", () => {
                document.body.classList.toggle("night-mode");
                localStorage.setItem("nightMode", document.body.classList.contains("night-mode"));
            });

            // Проверка аутентификации
            const username = localStorage.getItem("username");
            if (username) {
                document.getElementById("login-form").style.display = "none";
                document.getElementById("welcome-message").textContent = `Welcome, ${username}!`;
                document.getElementById("logout-button").style.display = "inline";
            }

            // Форма входа
            document.getElementById("login-form").addEventListener("submit", (event) => {
                event.preventDefault();
                const username = document.getElementById("username").value;
                localStorage.setItem("username", username);
                location.reload();
            });

            // Выход
            document.getElementById("logout-button").addEventListener("click", () => {
                localStorage.removeItem("username");
                location.reload();
            });
        });

        // Валидация формы
        function validateForm(event) {
            event.preventDefault();
            let name = document.getElementById("name").value;
            let lastName = document.getElementById("last-name").value;
            let gender = document.getElementById("gender").value;
            let review = document.getElementById("review").value;
            let errorMessages = [];

            if (name === "") errorMessages.push("Name is required.\n");
            if (lastName === "") errorMessages.push("Last name is required.\n");
            if (gender === "") errorMessages.push("Gender is required.\n");
            if (review === "") errorMessages.push("Opinion is required.\n");

            if (errorMessages.length > 0) {
                alert(errorMessages.join('')); 
            } else {
                alert("Form submitted successfully!");
                document.getElementById("review-form").submit();
            }
        }
    </script>
</head>
<body class="background">
    <div class="content">
        <!-- Форма входа -->
        <div id="login-section">
            <form id="login-form">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required>
                <button type="submit">Login</button>
            </form>
            <p id="welcome-message"></p>
            <button id="logout-button" style="display:none">Logout</button>
        </div>

        <button id="theme-toggle">Toggle Theme</button>

        <!-- Основное содержимое -->
        <h1 class="main-title">Spain</h1>
        <nav>
            <a href="nature.html" class="nav-link">Nature</a><br>
            <a href="faq.html" class="nav-link">FAQ</a><br>
            <a href="hymn.html" class="nav-link">Hymn</a><br>
            <a href="index.html" class="nav-link">Interactive Page</a>
        </nav>

        <section>
            <h2>Spain History</h2>
            <p>The history of Spain dates to contact between the pre-Roman peoples of the Mediterranean coast of the Iberian Peninsula made with the Greeks and Phoenicians. During Classical Antiquity, the peninsula was the site of multiple successive colonizations of Greeks, Carthaginians, and Romans.</p>
        </section>
        
        <section>
            <h2>Spain Flag's Symbol</h2>
            <p>The symbol on the flag of Spain is the coat of arms. It features symbols from the constituent kingdoms of Spain.</p>
        </section>

        <figure>
            <img src="https://www.suspanish.com/blog/wp-content/uploads/2018/12/natuurwonderen-spanje.jpg" alt="Nature of Spain" style="width:100%">
            <figcaption>Fig.1 - Nature of Spain.</figcaption>
        </figure>

        <blockquote cite="https://www.spain.info/en/nature/">
            Mountains, volcanoes, wetlands, forests, rivers, valleys, cliffs, lakes... There are so many different environments in Spain to make you feel brand new.
        </blockquote>

        <h2>What do You think about Spain?</h2>
        <form id="review-form" onsubmit="validateForm(event)">
            <label for="name">Your name</label><br>
            <input type="text" id="name" name="name" placeholder="Your name" ><br>
            <label for="last-name">Your last name</label><br>
            <input type="text" id="last-name" name="last-name" placeholder="Your last name" ><br>
            <label for="gender">Your gender</label><br>
            <select id="gender" name="gender" >
                <option value="">...</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select><br>
            <textarea id="review" name="review" rows="5" placeholder="Your opinion" ></textarea><br>
            <button type="submit">Send</button>
        </form>

        <footer>
            <p class="centered">Author: Vera Issayeva</p>
            <p><a href="mailto:230469@astanait.edu.kz">230469@astanait.edu.kz</a></p>
        </footer>
    </div>
</body>
</html>
